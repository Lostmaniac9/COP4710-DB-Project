<html>
<head>
    <iframe id = "map" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3502.9116429705427!2d-81.20224858491805!3d28.602427382429692!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x88e7685d6a0a495f%3A0x5fd59b92b3c79bab!2sUniversity%20of%20Central%20Florida!5e0!3m2!1sen!2sus!4v1649777061172!5m2!1sen!2sus" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
   
<script language="javascript" type="text/javascript">
    var t1 =0 ;
    var t2 =0;
    var msg;


    function Button1_onclick() {
        window.top.location.href='https://maps.google.com/maps?q=28.60242058176763, -81.2000437134752&hl=es;z=14&amp;output=embed'
        //var url = "https://maps.google.com/maps?q=28.611702528435895,-81.20711821815813&hl=es;z=14&amp;output=embed";
        //document.getElementById('map').setAttribute("src", url); // = "//maps.google.com/maps?q=28.611702528435895,-81.20711821815813&hl=es;z=14&amp;output=embed";
       //parent.test();
    }

    function populateSelect() {
        // THE JSON ARRAY.
        var list = findLocations(event);
        //document.write(list[0].loc_name)

        var ele = document.getElementById('sel');
        for (var i = 0; i < list.length; i++) {
            // POPULATE SELECT ELEMENT WITH JSON.
            ele.innerHTML = ele.innerHTML +
                '<option value="' + list[i]['ID'] + '">' + list[i]['loc_name'] + '</option>';
        }
    }

    function show(ele) {
        // GET THE SELECTED VALUE FROM <select> ELEMENT AND SHOW IT.
        msg = document.getElementById('msg');
        msg.innerHTML = 'Selected Location: <b>' + ele.options[ele.selectedIndex].text + '</b> </br>' ;
            //+ 'ID: <b>' + ele.value + '</b>';
    }



    function myFunction(ele) {
        //msg = document.getElementById('msg');
        test = ele.options[ele.selectedIndex].text;
        //document.getElementById("msg").innerHTML = test;
    //document.write(test);
    var list = findCoords(event, test);
    t1 = list[0].longitude;
    // document.getElementById("t1").innerHTML =
    //            "t1 = "+t1;
    //document.write(t1);
    t2 = list[0].latitude;
    // document.getElementById("t2").innerHTML =
    //            "t2 = "+t2;
    //var x = JSON.parse(results);
    //document.write(list[0].longitude);
    //document.write("results");
    //document.write(x[0]);
    
            var cols = [];
             
            for (var i = 0; i < list.length; i++) {
                for (var k in list[i]) {
                    if (cols.indexOf(k) === -1) {
                         
                        // Push all keys to the array
                        cols.push(k);
                    }
                }
            }
             
            // Create a table element
            var table = document.createElement("table");
             
            // Create table row tr element of a table
            var tr = table.insertRow(-1);
             
            for (var i = 0; i < cols.length; i++) {
                 
                // Create the table header th element
                var theader = document.createElement("th");
                theader.innerHTML = cols[i];
                 
                // Append columnName to the table row
                tr.appendChild(theader);
            }
             
            // Adding the data to the table
            for (var i = 0; i < list.length; i++) {
                 
                // Create a new row
                trow = table.insertRow(-1);
                for (var j = 0; j < cols.length; j++) {
                    var cell = trow.insertCell(-1);
                     
                    // Inserting the cell at particular place
                    cell.innerHTML = list[i][cols[j]];
                }
            }
             
            // Add the newly created table containing json data
            var el = document.getElementById("table");
            el.innerHTML = "";
            el.appendChild(table);
        
}

function teste(){
    //document.write(t1);
        if(t1 == null){
            document.write("testing");
        }
        else{
            //document.write("testing111");
            Button2_onclick(t1,t2);
        }
    }

</script>
</head>
<body>
<h2>Gecoding Demo JavaScript: </h2>
<script>populateSelect();</script>
    <input id="Button1" type="button" value="Find" onclick=" Button2_onclick()" />

    <a href="UCFGym.html"><button>Go To Login</button></a>

    <input type="button" 
    onclick="populateSelect()" 
        value="Click to Populate SELECT with JSON" />

        <select id="sel" onchange="myFunction(this)">
        <option value="">-- Select --</option>
    </select>
    <p id="msg"></p>
    <table id="table" align = "center" border="1px"></table>

    <input type="button" 
    onclick="teste()" 
        value="See event?" />

<script src="md5.js"></script>
<script src="index.js"></script>
<script src="test.js"></script>
<script src="map.js"></script>
</body>

</html>