<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <title>Hello, world!</title>
    <style>
        table {
          font-family: arial, sans-serif;
          border-collapse: collapse;
          width: 100%;
        }
        
        td, th {
          border: 1px solid #dddddd;
          text-align: left;
          padding: 8px;
        }
        
        tr:nth-child(even) {
          background-color: #dddddd;
        }

        .space {
  width: 4px;
  height: auto;
  display: inline-block;
}
        </style>
    <script language="javascript" type="text/javascript">
        var t1 =0 ;
        var t2 =0;
        var msg;
    
    
        function Button1_onclick() {
            window.top.location.href='https://maps.google.com/maps?q=28.60242058176763, -81.2000437134752&hl=es;z=14&amp;output=embed'
            //var url = "https://maps.google.com/maps?q=28.611702528435895,-81.20711821815813&hl=es;z=14&amp;output=embed";
            //document.getElementById('map').setAttribute("src", url); // = "//maps.google.com/maps?q=28.611702528435895,-81.20711821815813&hl=es;z=14&amp;output=embed";
           //parent.test();
        }
    
        function populateSelect() {
            // THE JSON ARRAY.
            var list = findLocations(event);
            //document.write(list[0].loc_name)
    
            var ele = document.getElementById('sel');
            for (var i = 0; i < list.length; i++) {
                // POPULATE SELECT ELEMENT WITH JSON.
                ele.innerHTML = ele.innerHTML +
                    '<option value="' + list[i]['ID'] + '">' + list[i]['loc_name'] + '</option>';
            }
        }
    
        function show(ele) {
            // GET THE SELECTED VALUE FROM <select> ELEMENT AND SHOW IT.
            msg = document.getElementById('msg');
            msg.innerHTML = 'Selected Location: <b>' + ele.options[ele.selectedIndex].text + '</b> </br>' ;
                //+ 'ID: <b>' + ele.value + '</b>';
        }
    
        function assss (form, event){
            //document.write("test");
            var hello = createLocation(form, event);
            
            //document.write(hello);
            if( hello == ""){
                alert("Location Created!");
            }
            else if (hello == "Location name is already taken."){
                alert("Location already being used");
            }
        }
    
        function myFunction(ele) {
            //msg = document.getElementById('msg');
            test = ele.options[ele.selectedIndex].text;
            //document.getElementById("msg").innerHTML = test;
        //document.write(test);
        var list = findCoords(event, test);
        t1 = list[0].longitude;
        // document.getElementById("t1").innerHTML =
        //            "t1 = "+t1;
        //document.write(t1);
        t2 = list[0].latitude;
        // document.getElementById("t2").innerHTML =
        //            "t2 = "+t2;
        //var x = JSON.parse(results);
        //document.write(list[0].longitude);
        //document.write("results");
        //document.write(x[0]);
        
                var cols = [];
                 
                for (var i = 0; i < list.length; i++) {
                    for (var k in list[i]) {
                        if (cols.indexOf(k) === -1) {
                             
                            // Push all keys to the array
                            cols.push(k);
                        }
                    }
                }
                 
                // Create a table element
                var table = document.createElement("table");
                 
                // Create table row tr element of a table
                var tr = table.insertRow(-1);
                 
                for (var i = 0; i < cols.length; i++) {
                     
                    // Create the table header th element
                    var theader = document.createElement("th");
                    theader.innerHTML = cols[i];
                     
                    // Append columnName to the table row
                    tr.appendChild(theader);
                }
                 
                // Adding the data to the table
                for (var i = 0; i < list.length; i++) {
                     
                    // Create a new row
                    trow = table.insertRow(-1);
                    for (var j = 0; j < cols.length; j++) {
                        var cell = trow.insertCell(-1);
                         
                        // Inserting the cell at particular place
                        cell.innerHTML = list[i][cols[j]];
                    }
                }
                 
                // Add the newly created table containing json data
                var el = document.getElementById("table");
                el.innerHTML = "";
                el.appendChild(table);
            
    }
    
    function teste(){
        //document.write(t1);
            if(t1 == null){
                document.write("testing");
            }
            else{
                //document.write("testing111");
                Button2_onclick(t1,t2);
            }
        }
    
    </script>
  </head>
  <body>
    <div class="container">
        <h1>Welcome, Administrator</h1>
    </div>
    <div>
        <a href="login.html" class="btn btn-danger" role="button">Logout</a>
    </div>
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-6 center">
                <div class="container">
                    <h2>
                        Create event
                    </h2>
                    <div class="col-lg-4 center">
                        <form id="event_form" onSubmit="fda(this, event)">
                            <div class="form-group">
                                <label for="formName">Name</label>
                                <input type="text" class="form-control" id="event_name" placeholder="Enter event name">
                            </div>
                            <div class="form-group">
                                <label for="formDesc">Description</label>
                                <input type="text" class="form-control" id="desc1" placeholder="Enter event description">
                            </div>
                            <div class="form-group">
                                <label for="formTime">Time</label>
                                <input type="text" class="form-control" id="time" placeholder="Enter event time">
                            </div>
                            <div class="form-group">
                                <label for="formLoc">Location</label>
                                <input type="text" class="form-control" id="loc_name" placeholder="Enter event location">
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="eventType" id="publicEvent" value="Public">
                                <label class="form-check-label" for="exampleRadios1">Public</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="eventType" id="privateEvent" value="Private">
                                <label class="form-check-label" for="exampleRadios2">Private</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="eventType" id="RSOEvent" value="RSO">
                                <label class="form-check-label" for="exampleRadios3">RSO</label>
                            </div>
                            <hr />
                            <button type="submit" form="event_form" class="btn btn-primary">Create event</button>
                        </form>
                    </div>
                </div>
            </div>
            <div class="col-lg-6 center">
                <div class="container">
                    <h2>
                        Create location
                    </h2>
                    <div class="col-lg-4 center">
                        <form id="loc_form" onSubmit="assss(this, event)">
                            <div class="form-group">
                                <label for="address">Address</label>
                                <input type="text" class="form-control" id="address" placeholder="Enter location address">
                            </div>
                            <div class="form-group">
                                <label for="loc_name">Location Name</label>
                                <input type="text" class="form-control" id="loc_name" placeholder="Enter location name">
                            </div>
                            <div class="form-group">
                                <label for="longitude">Longitude</label>
                                <input type="text" class="form-control" id="longitude" placeholder="Enter location longtitude coordinate">
                            </div>
                            <div class="form-group">
                                <label for="latitude">Latitude</label>
                                <input type="text" class="form-control" id="latitude" placeholder="Enter location latitude coordinate">
                            </div>
                            <button type="submit" form="loc_form" class="btn btn-primary">Create location</button>
                            
                        </form>
                        <hr />
                        <input type="button" class="btn btn-primary" 
    onclick="populateSelect()" 
        value="See list of locations" />

        <div class="space">
        </div>
        <hr />
        
                            </div>
  
        <select id="sel" onchange="myFunction(this)">
        <option value="">-- Select --</option>
    </select><hr />
    <table id="table" align = "center" border="1px"></table>
    <hr />
    <input type="button" class="btn btn-primary" 
        onclick="teste()" 
            value="See event?" />
                    </div>
                </div>
                
            </div>
        </div>
    
    

        <script src="md5.js"></script>
        <script src="index.js"></script>
        <script src="test.js"></script>
        <script src="map.js"></script>
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  </body>
</html>